CREATE TABLE academic_period (id BIGSERIAL, name VARCHAR(255) NOT NULL, start_date TIMESTAMP NOT NULL, end_date TIMESTAMP NOT NULL, grades_due TIMESTAMP NOT NULL, max_credits VARCHAR(10) NOT NULL, academic_year_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE academic_year (id BIGSERIAL, year_start BIGINT NOT NULL, year_end BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE activity_feed (id BIGSERIAL, user_id BIGINT NOT NULL, replacements TEXT NOT NULL, activity_template_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE activity_template (id BIGSERIAL, patterns VARCHAR(500), content TEXT NOT NULL, type BIGINT DEFAULT 0 NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE announcement (id BIGSERIAL, user_id BIGINT NOT NULL, subject VARCHAR(255) NOT NULL, message TEXT NOT NULL, is_published BOOLEAN DEFAULT 'false' NOT NULL, lock_until TIMESTAMP, lock_after TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE application (id BIGSERIAL, number VARCHAR(255), first_name VARCHAR(255) NOT NULL, last_name VARCHAR(255) NOT NULL, middle_name VARCHAR(200), email VARCHAR(255) NOT NULL, program_id BIGINT NOT NULL, academic_period_id BIGINT NOT NULL, status BIGINT DEFAULT 0 NOT NULL, enquiry_date TIMESTAMP, last_activity TIMESTAMP, completed BIGINT DEFAULT 0 NOT NULL, phone_work VARCHAR(200), phone_home VARCHAR(255) NOT NULL, phone_mobile VARCHAR(255) NOT NULL, gender BIGINT DEFAULT 0 NOT NULL, address_line_one VARCHAR(300) NOT NULL, address_line_two VARCHAR(300), city VARCHAR(300), postcode VARCHAR(10), state_province_id BIGINT, country_id BIGINT, PRIMARY KEY(id));
CREATE TABLE assessment_type (id BIGSERIAL, name VARCHAR(255) NOT NULL, weight NUMERIC(18,2) DEFAULT 0 NOT NULL, course_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE assignment (id BIGSERIAL, title VARCHAR(255) NOT NULL, assessment_type_id BIGINT NOT NULL, description TEXT NOT NULL, submission BIGINT NOT NULL, due_date TIMESTAMP, points BIGINT NOT NULL, weight NUMERIC(18,2) DEFAULT 0 NOT NULL, lock_until TIMESTAMP, lock_after TIMESTAMP, notify_users BOOLEAN DEFAULT 'false', is_graded BOOLEAN DEFAULT 'false', allow_late_submission BOOLEAN DEFAULT 'false', graded_by BIGINT NOT NULL, course_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE assignment_discussion (id BIGSERIAL, assignment_id BIGINT NOT NULL, discussion_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE assignment_file (id BIGSERIAL, assignment_id BIGINT NOT NULL, file_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE assignment_submission (id BIGSERIAL, assignment_id BIGINT NOT NULL, generated_file VARCHAR(255) NOT NULL, original_file VARCHAR(255) NOT NULL, user_id BIGINT NOT NULL, status BIGINT DEFAULT 0 NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE attendance (id BIGSERIAL, date TIMESTAMP, course_id BIGINT NOT NULL, course_meeting_time_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE building (id BIGSERIAL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(10) NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group (id BIGSERIAL, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE calendar (id BIGSERIAL, name VARCHAR(255) NOT NULL, description TEXT NOT NULL, is_public BOOLEAN DEFAULT 'false' NOT NULL, type BIGINT DEFAULT 0 NOT NULL, color VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE calendar_event (id BIGSERIAL, calendar_id BIGINT NOT NULL, user_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, location VARCHAR(255) NOT NULL, from_date TIMESTAMP NOT NULL, to_date TIMESTAMP NOT NULL, reminder BIGINT DEFAULT 0 NOT NULL, description TEXT NOT NULL, is_personal BOOLEAN DEFAULT 'false' NOT NULL, notify_changes BOOLEAN DEFAULT 'false' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE calendar_event_attendee (id BIGSERIAL, calendar_event_id BIGINT NOT NULL, user_id BIGINT NOT NULL, status BIGINT DEFAULT 0 NOT NULL, comment TEXT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE campus (id BIGSERIAL, name VARCHAR(255) NOT NULL, is_primary BOOLEAN DEFAULT 'false', address VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, postcode VARCHAR(10) NOT NULL, country_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE campus_course (id BIGSERIAL, campus_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE contact (id BIGSERIAL, email_address VARCHAR(255), phone_work VARCHAR(200), phone_home VARCHAR(200), phone_mobile VARCHAR(200), address_line_1 VARCHAR(300), address_line_2 VARCHAR(300), postcode VARCHAR(10), city VARCHAR(255), country_id BIGINT NOT NULL, state_province_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE country (id BIGSERIAL, name VARCHAR(255) NOT NULL, code VARCHAR(10) NOT NULL, PRIMARY KEY(id));
CREATE TABLE course (id BIGSERIAL, name VARCHAR(255) NOT NULL, code VARCHAR(10) NOT NULL, department_id BIGINT NOT NULL, description TEXT NOT NULL, is_finalized BOOLEAN DEFAULT 'false' NOT NULL, academic_period_id BIGINT NOT NULL, start_date TIMESTAMP NOT NULL, end_date TIMESTAMP NOT NULL, credits NUMERIC(18,2) DEFAULT 0, hours BIGINT NOT NULL, max_enrolled BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE course_activity_feed (id BIGSERIAL, course_id BIGINT NOT NULL, activity_feed_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_announcement (id BIGSERIAL, course_id BIGINT NOT NULL, announcement_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_discussion (id BIGSERIAL, course_id BIGINT NOT NULL, discussion_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_faq (id BIGSERIAL, course_id BIGINT NOT NULL, faq_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_folder (id BIGSERIAL, course_id BIGINT NOT NULL, folder_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_link (id BIGSERIAL, name VARCHAR(255) NOT NULL, url VARCHAR(255) NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_meeting_time (id BIGSERIAL, day BIGINT NOT NULL, from_time VARCHAR(255) NOT NULL, to_time VARCHAR(255) NOT NULL, course_id BIGINT NOT NULL, building_id BIGINT NOT NULL, room_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE course_reading_item (id BIGSERIAL, title VARCHAR(255) NOT NULL, author VARCHAR(255) NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE department (id BIGSERIAL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(10) NOT NULL, faculty_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE discussion (id BIGSERIAL, name VARCHAR(255) NOT NULL, user_id BIGINT NOT NULL, description TEXT NOT NULL, access_level BIGINT NOT NULL, last_visit TIMESTAMP, latest_topic_reply_id BIGINT, nb_topics BIGINT DEFAULT 0, nb_members BIGINT DEFAULT 1, nb_replies BIGINT DEFAULT 1, is_primary BOOLEAN DEFAULT 'false', created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE discussion_activity_feed (id BIGSERIAL, discussion_id BIGINT NOT NULL, activity_feed_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE discussion_member (id BIGSERIAL, nickname VARCHAR(255) NOT NULL, subscription_type BIGINT DEFAULT 0 NOT NULL, membership_type BIGINT DEFAULT 0 NOT NULL, posting_permission_type BIGINT DEFAULT 0 NOT NULL, status BIGINT DEFAULT 0 NOT NULL, discussion_id BIGINT NOT NULL, user_id BIGINT NOT NULL, is_removed BOOLEAN DEFAULT 'false', created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE discussion_topic (id BIGSERIAL, subject VARCHAR(255) NOT NULL, message TEXT NOT NULL, discussion_id BIGINT NOT NULL, user_id BIGINT NOT NULL, latest_topic_reply_id BIGINT, nb_replies BIGINT DEFAULT 0, nb_views BIGINT DEFAULT 0, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE discussion_topic_message (id BIGSERIAL, message TEXT NOT NULL, user_id BIGINT NOT NULL, discussion_topic_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE discussion_topic_reply (id BIGSERIAL, reply TEXT NOT NULL, user_id BIGINT NOT NULL, discussion_topic_message_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE email_message (id BIGSERIAL, from_email VARCHAR(255) NOT NULL, to_email TEXT, cc_email TEXT, bcc_email TEXT, email_template_id BIGINT, sender_id BIGINT NOT NULL, reply_to VARCHAR(255) NOT NULL, subject VARCHAR(255) NOT NULL, body TEXT NOT NULL, status BIGINT DEFAULT 0 NOT NULL, is_read BOOLEAN DEFAULT 'false' NOT NULL, is_trashed BOOLEAN DEFAULT 'false' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE email_message_correspondence (id BIGSERIAL, initiator_id BIGINT NOT NULL, invitee_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE email_message_reply (id BIGSERIAL, sender_id BIGINT NOT NULL, responder_id BIGINT NOT NULL, email_message_id BIGINT NOT NULL, email_message_reply_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE email_template (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, subject VARCHAR(5000) NOT NULL, description VARCHAR(5000), patterns VARCHAR(500), body TEXT NOT NULL, from_email VARCHAR(5000) NOT NULL, from_name VARCHAR(255) DEFAULT 'Tutor+ team' NOT NULL, to_email VARCHAR(5000), cc_email VARCHAR(5000), bcc_email VARCHAR(5000), reply_to VARCHAR(5000) NOT NULL, is_html BOOLEAN DEFAULT 'false' NOT NULL, is_active BOOLEAN DEFAULT 'true' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE faculty (id BIGSERIAL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(10) NOT NULL, PRIMARY KEY(id));
CREATE TABLE faq (id BIGSERIAL, user_id BIGINT NOT NULL, question VARCHAR(255) NOT NULL, answer TEXT NOT NULL, is_published BOOLEAN DEFAULT 'false' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE file (id BIGSERIAL, folder_id BIGINT NOT NULL, original_name VARCHAR(255) NOT NULL, generated_name VARCHAR(255) NOT NULL, mime_type VARCHAR(128) NOT NULL, size BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE folder (id BIGSERIAL, name VARCHAR(255) NOT NULL, type BIGINT DEFAULT 0 NOT NULL, parent_id BIGINT DEFAULT 1 NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, lft INT, rgt INT, level SMALLINT, PRIMARY KEY(id));
CREATE TABLE gradebook (id BIGSERIAL, items BIGINT DEFAULT 0 NOT NULL, course_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE gradebook_item (id BIGSERIAL, name VARCHAR(255) NOT NULL, weight NUMERIC(18,2) DEFAULT 0 NOT NULL, gradebook_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE gradebook_scale (id BIGSERIAL, min_points NUMERIC(18,2) DEFAULT 0 NOT NULL, max_points NUMERIC(18,2) DEFAULT 0 NOT NULL, code VARCHAR(255) NOT NULL, gradebook_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE instructor (id BIGSERIAL, user_id BIGINT NOT NULL, about VARCHAR(500), middle_name VARCHAR(200), date_of_birth TIMESTAMP, gender VARCHAR(255), employment VARCHAR(255), is_student BOOLEAN DEFAULT 'false', high_school VARCHAR(255), studied_at VARCHAR(255), current_study VARCHAR(255), employment_start_date TIMESTAMP, employment_end_date TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE instructor_contact (id BIGSERIAL, email_address VARCHAR(255), phone_work VARCHAR(200), phone_home VARCHAR(200), phone_mobile VARCHAR(200), address_line_1 VARCHAR(300), address_line_2 VARCHAR(300), postcode VARCHAR(10), city VARCHAR(255), country_id BIGINT NOT NULL, state_province_id BIGINT NOT NULL, instructor_id BIGINT NOT NULL, postal_address_line_1 VARCHAR(300), postal_address_line_2 VARCHAR(300), postal_postcode VARCHAR(10), postal_city VARCHAR(255), postal_country_id BIGINT NOT NULL, postal_state_province_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE instructor_course (id BIGSERIAL, instructor_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE instructor_mailing_list (id BIGSERIAL, instructor_id BIGINT NOT NULL, mailing_list_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE mailing_list (id BIGSERIAL, name VARCHAR(255) NOT NULL, user_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE mailing_list_course (id BIGSERIAL, mailing_list_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE mailing_list_email_message (id BIGSERIAL, mailing_list_id BIGINT NOT NULL, email_message_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE news (id BIGSERIAL, user_id BIGINT NOT NULL, heading VARCHAR(255) NOT NULL, blurb TEXT NOT NULL, description TEXT NOT NULL, is_published BOOLEAN DEFAULT 'false' NOT NULL, lock_until TIMESTAMP, lock_after TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE notification_settings (id BIGSERIAL, can_receive_email BOOLEAN DEFAULT 'false', can_receive_reply BOOLEAN DEFAULT 'false', can_receive_peer_activities BOOLEAN DEFAULT 'false', can_receive_news_alerts BOOLEAN DEFAULT 'false', can_receive_announcement_alerts BOOLEAN DEFAULT 'false', can_receive_event_alerts BOOLEAN DEFAULT 'false', can_receive_discussion_updates BOOLEAN DEFAULT 'false', can_receive_course_updates BOOLEAN DEFAULT 'false', can_receive_assignment_due BOOLEAN DEFAULT 'false', can_receive_system_updates BOOLEAN DEFAULT 'false', can_receive_system_maintenance BOOLEAN DEFAULT 'false', user_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE peer (id BIGSERIAL, inviter_id BIGINT NOT NULL, invitee_id BIGINT NOT NULL, status BIGINT DEFAULT 0 NOT NULL, type BIGINT DEFAULT 0 NOT NULL, PRIMARY KEY(id));
CREATE TABLE profile (id BIGSERIAL, user_id BIGINT NOT NULL, about VARCHAR(500), middle_name VARCHAR(200), date_of_birth TIMESTAMP, gender VARCHAR(255), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE profile_award (id BIGSERIAL, user_id BIGINT, institution VARCHAR(255), description VARCHAR(500), year VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE profile_book (id BIGSERIAL, user_id BIGINT, title VARCHAR(255) NOT NULL, author VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE profile_interest (id BIGSERIAL, user_id BIGINT, name VARCHAR(500) NOT NULL, PRIMARY KEY(id));
CREATE TABLE profile_publication (id BIGSERIAL, user_id BIGINT, title VARCHAR(255) NOT NULL, link VARCHAR(500), year VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE profile_qualification (id BIGSERIAL, user_id BIGINT, institution VARCHAR(255), description VARCHAR(500), year VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE program (id BIGSERIAL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(10) NOT NULL, code VARCHAR(255) NOT NULL, description TEXT NOT NULL, type BIGINT DEFAULT 0 NOT NULL, department_id BIGINT NOT NULL, program_level_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE program_level (id BIGSERIAL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE room (id BIGSERIAL, name VARCHAR(255) NOT NULL, abbreviation VARCHAR(10) NOT NULL, building_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE staff (id BIGSERIAL, user_id BIGINT NOT NULL, about VARCHAR(500), middle_name VARCHAR(200), date_of_birth TIMESTAMP, gender VARCHAR(255), employment BIGINT DEFAULT 0 NOT NULL, is_student BOOLEAN DEFAULT 'false', employment_start_date TIMESTAMP, employment_end_date TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE staff_contact (id BIGSERIAL, email_address VARCHAR(255), phone_work VARCHAR(200), phone_home VARCHAR(200), phone_mobile VARCHAR(200), address_line_1 VARCHAR(300), address_line_2 VARCHAR(300), postcode VARCHAR(10), city VARCHAR(255), country_id BIGINT NOT NULL, state_province_id BIGINT NOT NULL, staff_id BIGINT NOT NULL, postal_address_line_1 VARCHAR(300), postal_address_line_2 VARCHAR(300), postal_postcode VARCHAR(10), postal_city VARCHAR(255), postal_country_id BIGINT NOT NULL, postal_state_province_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE staff_course (id BIGSERIAL, staff_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE staff_mailing_list (id BIGSERIAL, staff_id BIGINT NOT NULL, mailing_list_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE state_province (id BIGSERIAL, name VARCHAR(255) NOT NULL, country_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE student (id BIGSERIAL, user_id BIGINT NOT NULL, about VARCHAR(500), middle_name VARCHAR(200), date_of_birth TIMESTAMP, gender VARCHAR(255), number VARCHAR(255), high_school VARCHAR(255), studied_at VARCHAR(255), current_study VARCHAR(255), enrollment VARCHAR(255), status VARCHAR(255), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_attendance (id BIGSERIAL, status BIGINT DEFAULT 0 NOT NULL, attendance_id BIGINT NOT NULL, student_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_contact (id BIGSERIAL, email_address VARCHAR(255), phone_work VARCHAR(200), phone_home VARCHAR(200), phone_mobile VARCHAR(200), address_line_1 VARCHAR(300), address_line_2 VARCHAR(300), postcode VARCHAR(10), city VARCHAR(255), country_id BIGINT NOT NULL, state_province_id BIGINT NOT NULL, student_id BIGINT NOT NULL, postal_address_line_1 VARCHAR(300), postal_address_line_2 VARCHAR(300), postal_postcode VARCHAR(10), postal_city VARCHAR(255), postal_country_id BIGINT, postal_state_province_id BIGINT, guardian_first_name VARCHAR(255), guardian_last_name VARCHAR(255), guardian_email_address VARCHAR(255), guardian_phone_work VARCHAR(200), guardian_phone_home VARCHAR(200), guardian_phone_mobile VARCHAR(200), guardian_address_line_1 VARCHAR(300), guardian_address_line_2 VARCHAR(300), guardian_postcode VARCHAR(10), guardian_city VARCHAR(255), guardian_country_id BIGINT, guardian_state_province_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_course (id BIGSERIAL, student_id BIGINT NOT NULL, course_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_gradebook_item (id BIGSERIAL, points NUMERIC(18,2) DEFAULT 0 NOT NULL, gradebook_item_id BIGINT NOT NULL, student_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_mailing_list (id BIGSERIAL, student_id BIGINT NOT NULL, mailing_list_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE student_program (id BIGSERIAL, student_id BIGINT NOT NULL, program_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE user_activity_feed (id BIGSERIAL, user_id BIGINT NOT NULL, activity_feed_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE user_calendar (id BIGSERIAL, owner_id BIGINT NOT NULL, calendar_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE user_folder (id BIGSERIAL, user_id BIGINT NOT NULL, folder_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_forgot_password (id BIGSERIAL, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at TIMESTAMP NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(group_id, permission_id));
CREATE TABLE sf_guard_permission (id BIGSERIAL, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_remember_key (id BIGSERIAL, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_user (id BIGSERIAL, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active BOOLEAN DEFAULT 'true', is_super_admin BOOLEAN DEFAULT 'false', last_login TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, slug VARCHAR(255), PRIMARY KEY(id));
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, group_id));
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, permission_id));
CREATE UNIQUE INDEX announcement_sluggable ON announcement (slug);
CREATE UNIQUE INDEX assignment_sluggable ON assignment (slug);
CREATE UNIQUE INDEX calendar_event_sluggable ON calendar_event (slug);
CREATE UNIQUE INDEX course_sluggable ON course (slug, code, name);
CREATE UNIQUE INDEX discussion_sluggable ON discussion (slug);
CREATE UNIQUE INDEX discussion_topic_sluggable ON discussion_topic (slug);
CREATE UNIQUE INDEX email_template_sluggable ON email_template (slug, name);
CREATE UNIQUE INDEX faq_sluggable ON faq (slug);
CREATE UNIQUE INDEX folderFile ON file (folder_id, original_name);
CREATE UNIQUE INDEX news_sluggable ON news (slug);
CREATE UNIQUE INDEX sf_guard_user_sluggable ON sf_guard_user (slug, first_name, last_name);
CREATE INDEX is_active_idx ON sf_guard_user (is_active);
ALTER TABLE academic_period ADD CONSTRAINT academic_period_academic_year_id_academic_year_id FOREIGN KEY (academic_year_id) REFERENCES academic_year(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE activity_feed ADD CONSTRAINT activity_feed_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE activity_feed ADD CONSTRAINT activity_feed_activity_template_id_activity_template_id FOREIGN KEY (activity_template_id) REFERENCES activity_template(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE announcement ADD CONSTRAINT announcement_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE application ADD CONSTRAINT application_program_id_program_id FOREIGN KEY (program_id) REFERENCES program(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE application ADD CONSTRAINT application_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE application ADD CONSTRAINT application_academic_period_id_academic_period_id FOREIGN KEY (academic_period_id) REFERENCES academic_period(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assessment_type ADD CONSTRAINT assessment_type_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment ADD CONSTRAINT assignment_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment ADD CONSTRAINT assignment_assessment_type_id_assessment_type_id FOREIGN KEY (assessment_type_id) REFERENCES assessment_type(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment_discussion ADD CONSTRAINT assignment_discussion_discussion_id_discussion_id FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment_file ADD CONSTRAINT assignment_file_file_id_file_id FOREIGN KEY (file_id) REFERENCES file(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment_file ADD CONSTRAINT assignment_file_assignment_id_assignment_id FOREIGN KEY (assignment_id) REFERENCES assignment(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment_submission ADD CONSTRAINT assignment_submission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE assignment_submission ADD CONSTRAINT assignment_submission_assignment_id_assignment_id FOREIGN KEY (assignment_id) REFERENCES assignment(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE attendance ADD CONSTRAINT attendance_course_meeting_time_id_course_meeting_time_id FOREIGN KEY (course_meeting_time_id) REFERENCES course_meeting_time(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE attendance ADD CONSTRAINT attendance_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE calendar_event ADD CONSTRAINT calendar_event_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE calendar_event ADD CONSTRAINT calendar_event_calendar_id_calendar_id FOREIGN KEY (calendar_id) REFERENCES calendar(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE calendar_event_attendee ADD CONSTRAINT calendar_event_attendee_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE calendar_event_attendee ADD CONSTRAINT calendar_event_attendee_calendar_event_id_calendar_event_id FOREIGN KEY (calendar_event_id) REFERENCES calendar_event(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus ADD CONSTRAINT campus_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus_course ADD CONSTRAINT campus_course_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus_course ADD CONSTRAINT campus_course_campus_id_campus_id FOREIGN KEY (campus_id) REFERENCES campus(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE contact ADD CONSTRAINT contact_state_province_id_state_province_id FOREIGN KEY (state_province_id) REFERENCES state_province(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE contact ADD CONSTRAINT contact_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_academic_period_id_academic_period_id FOREIGN KEY (academic_period_id) REFERENCES academic_period(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_activity_feed ADD CONSTRAINT course_activity_feed_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_activity_feed ADD CONSTRAINT course_activity_feed_activity_feed_id_activity_feed_id FOREIGN KEY (activity_feed_id) REFERENCES activity_feed(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_announcement ADD CONSTRAINT course_announcement_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_announcement ADD CONSTRAINT course_announcement_announcement_id_announcement_id FOREIGN KEY (announcement_id) REFERENCES announcement(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_discussion ADD CONSTRAINT course_discussion_discussion_id_discussion_id FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_discussion ADD CONSTRAINT course_discussion_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_faq ADD CONSTRAINT course_faq_faq_id_faq_id FOREIGN KEY (faq_id) REFERENCES faq(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_faq ADD CONSTRAINT course_faq_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_folder ADD CONSTRAINT course_folder_folder_id_folder_id FOREIGN KEY (folder_id) REFERENCES folder(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_folder ADD CONSTRAINT course_folder_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_link ADD CONSTRAINT course_link_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_meeting_time ADD CONSTRAINT course_meeting_time_room_id_room_id FOREIGN KEY (room_id) REFERENCES room(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_meeting_time ADD CONSTRAINT course_meeting_time_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_meeting_time ADD CONSTRAINT course_meeting_time_building_id_building_id FOREIGN KEY (building_id) REFERENCES building(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course_reading_item ADD CONSTRAINT course_reading_item_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE department ADD CONSTRAINT department_faculty_id_faculty_id FOREIGN KEY (faculty_id) REFERENCES faculty(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion ADD CONSTRAINT discussion_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion ADD CONSTRAINT discussion_latest_topic_reply_id_discussion_topic_reply_id FOREIGN KEY (latest_topic_reply_id) REFERENCES discussion_topic_reply(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_activity_feed ADD CONSTRAINT discussion_activity_feed_discussion_id_discussion_id FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_activity_feed ADD CONSTRAINT discussion_activity_feed_activity_feed_id_activity_feed_id FOREIGN KEY (activity_feed_id) REFERENCES activity_feed(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_member ADD CONSTRAINT discussion_member_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_member ADD CONSTRAINT discussion_member_discussion_id_discussion_id FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic ADD CONSTRAINT discussion_topic_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic ADD CONSTRAINT discussion_topic_discussion_id_discussion_id FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic_message ADD CONSTRAINT discussion_topic_message_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic_message ADD CONSTRAINT discussion_topic_message_discussion_topic_id_discussion_topic_id FOREIGN KEY (discussion_topic_id) REFERENCES discussion_topic(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic_reply ADD CONSTRAINT discussion_topic_reply_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discussion_topic_reply ADD CONSTRAINT dddi FOREIGN KEY (discussion_topic_message_id) REFERENCES discussion_topic_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message ADD CONSTRAINT email_message_sender_id_sf_guard_user_id FOREIGN KEY (sender_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message ADD CONSTRAINT email_message_email_template_id_email_template_id FOREIGN KEY (email_template_id) REFERENCES email_template(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_correspondence ADD CONSTRAINT email_message_correspondence_invitee_id_email_message_id FOREIGN KEY (invitee_id) REFERENCES email_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_correspondence ADD CONSTRAINT email_message_correspondence_initiator_id_email_message_id FOREIGN KEY (initiator_id) REFERENCES email_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_reply ADD CONSTRAINT email_message_reply_sender_id_sf_guard_user_id FOREIGN KEY (sender_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_reply ADD CONSTRAINT email_message_reply_responder_id_sf_guard_user_id FOREIGN KEY (responder_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_reply ADD CONSTRAINT email_message_reply_email_message_reply_id_email_message_id FOREIGN KEY (email_message_reply_id) REFERENCES email_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE email_message_reply ADD CONSTRAINT email_message_reply_email_message_id_email_message_id FOREIGN KEY (email_message_id) REFERENCES email_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE faq ADD CONSTRAINT faq_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE file ADD CONSTRAINT file_folder_id_folder_id FOREIGN KEY (folder_id) REFERENCES folder(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE gradebook ADD CONSTRAINT gradebook_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE gradebook_item ADD CONSTRAINT gradebook_item_gradebook_id_gradebook_id FOREIGN KEY (gradebook_id) REFERENCES gradebook(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE gradebook_scale ADD CONSTRAINT gradebook_scale_gradebook_id_gradebook_id FOREIGN KEY (gradebook_id) REFERENCES gradebook(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor ADD CONSTRAINT instructor_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_contact ADD CONSTRAINT instructor_contact_state_province_id_state_province_id FOREIGN KEY (state_province_id) REFERENCES state_province(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_contact ADD CONSTRAINT instructor_contact_postal_state_province_id_state_province_id FOREIGN KEY (postal_state_province_id) REFERENCES state_province(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_contact ADD CONSTRAINT instructor_contact_postal_country_id_country_id FOREIGN KEY (postal_country_id) REFERENCES country(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_contact ADD CONSTRAINT instructor_contact_instructor_id_instructor_id FOREIGN KEY (instructor_id) REFERENCES instructor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_contact ADD CONSTRAINT instructor_contact_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_course ADD CONSTRAINT instructor_course_instructor_id_instructor_id FOREIGN KEY (instructor_id) REFERENCES instructor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_course ADD CONSTRAINT instructor_course_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_mailing_list ADD CONSTRAINT instructor_mailing_list_mailing_list_id_mailing_list_id FOREIGN KEY (mailing_list_id) REFERENCES mailing_list(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE instructor_mailing_list ADD CONSTRAINT instructor_mailing_list_instructor_id_instructor_id FOREIGN KEY (instructor_id) REFERENCES instructor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailing_list ADD CONSTRAINT mailing_list_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailing_list_course ADD CONSTRAINT mailing_list_course_mailing_list_id_mailing_list_id FOREIGN KEY (mailing_list_id) REFERENCES mailing_list(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailing_list_course ADD CONSTRAINT mailing_list_course_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailing_list_email_message ADD CONSTRAINT mailing_list_email_message_mailing_list_id_mailing_list_id FOREIGN KEY (mailing_list_id) REFERENCES mailing_list(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailing_list_email_message ADD CONSTRAINT mailing_list_email_message_email_message_id_email_message_id FOREIGN KEY (email_message_id) REFERENCES email_message(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE news ADD CONSTRAINT news_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE notification_settings ADD CONSTRAINT notification_settings_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE peer ADD CONSTRAINT peer_inviter_id_sf_guard_user_id FOREIGN KEY (inviter_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE peer ADD CONSTRAINT peer_invitee_id_sf_guard_user_id FOREIGN KEY (invitee_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile ADD CONSTRAINT profile_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_award ADD CONSTRAINT profile_award_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_book ADD CONSTRAINT profile_book_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_interest ADD CONSTRAINT profile_interest_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_publication ADD CONSTRAINT profile_publication_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_qualification ADD CONSTRAINT profile_qualification_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE program ADD CONSTRAINT program_program_level_id_program_level_id FOREIGN KEY (program_level_id) REFERENCES program_level(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE program ADD CONSTRAINT program_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE room ADD CONSTRAINT room_building_id_building_id FOREIGN KEY (building_id) REFERENCES building(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff ADD CONSTRAINT staff_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_contact ADD CONSTRAINT staff_contact_state_province_id_state_province_id FOREIGN KEY (state_province_id) REFERENCES state_province(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_contact ADD CONSTRAINT staff_contact_staff_id_staff_id FOREIGN KEY (staff_id) REFERENCES staff(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_contact ADD CONSTRAINT staff_contact_postal_state_province_id_state_province_id FOREIGN KEY (postal_state_province_id) REFERENCES state_province(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_contact ADD CONSTRAINT staff_contact_postal_country_id_country_id FOREIGN KEY (postal_country_id) REFERENCES country(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_contact ADD CONSTRAINT staff_contact_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_course ADD CONSTRAINT staff_course_staff_id_staff_id FOREIGN KEY (staff_id) REFERENCES staff(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_course ADD CONSTRAINT staff_course_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_mailing_list ADD CONSTRAINT staff_mailing_list_staff_id_staff_id FOREIGN KEY (staff_id) REFERENCES staff(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE staff_mailing_list ADD CONSTRAINT staff_mailing_list_mailing_list_id_mailing_list_id FOREIGN KEY (mailing_list_id) REFERENCES mailing_list(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE state_province ADD CONSTRAINT state_province_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student ADD CONSTRAINT student_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_attendance ADD CONSTRAINT student_attendance_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_attendance ADD CONSTRAINT student_attendance_attendance_id_attendance_id FOREIGN KEY (attendance_id) REFERENCES attendance(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_state_province_id_state_province_id FOREIGN KEY (state_province_id) REFERENCES state_province(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_postal_state_province_id_state_province_id FOREIGN KEY (postal_state_province_id) REFERENCES state_province(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_postal_country_id_country_id FOREIGN KEY (postal_country_id) REFERENCES country(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_guardian_state_province_id_state_province_id FOREIGN KEY (guardian_state_province_id) REFERENCES state_province(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_guardian_country_id_country_id FOREIGN KEY (guardian_country_id) REFERENCES country(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_contact ADD CONSTRAINT student_contact_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_course ADD CONSTRAINT student_course_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_course ADD CONSTRAINT student_course_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_gradebook_item ADD CONSTRAINT student_gradebook_item_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_gradebook_item ADD CONSTRAINT student_gradebook_item_gradebook_item_id_gradebook_item_id FOREIGN KEY (gradebook_item_id) REFERENCES gradebook_item(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_mailing_list ADD CONSTRAINT student_mailing_list_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_mailing_list ADD CONSTRAINT student_mailing_list_mailing_list_id_mailing_list_id FOREIGN KEY (mailing_list_id) REFERENCES mailing_list(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_program ADD CONSTRAINT student_program_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_program ADD CONSTRAINT student_program_program_id_program_id FOREIGN KEY (program_id) REFERENCES program(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_activity_feed ADD CONSTRAINT user_activity_feed_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_activity_feed ADD CONSTRAINT user_activity_feed_activity_feed_id_activity_feed_id FOREIGN KEY (activity_feed_id) REFERENCES activity_feed(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_calendar ADD CONSTRAINT user_calendar_owner_id_sf_guard_user_id FOREIGN KEY (owner_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_calendar ADD CONSTRAINT user_calendar_calendar_id_calendar_id FOREIGN KEY (calendar_id) REFERENCES calendar(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_folder ADD CONSTRAINT user_folder_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE user_folder ADD CONSTRAINT user_folder_folder_id_folder_id FOREIGN KEY (folder_id) REFERENCES folder(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
