<?php

/**
 * ProfileTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class ProfileTable extends Doctrine_Table
{
    static public $gender_types = array(
        0 => 'Male',
        1 => 'Female'
    );

    /**
     * Returns an instance of this class.
     *
     * @return object ProfileTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Profile');
    }

    public function getGenderTypes()
    {
        return self::$gender_types;
    }

    public function determineUserTypeByUserId($user_id)
    {
        $student = StudentTable::getInstance()->findOneBy("user_id", $user_id);
        if (is_object($student))
        {
            return "Student";
        }

        $instructor = InstructorTable::getInstance()->findOneBy("user_id", $user_id);
        if (is_object($instructor))
        {
            return "Instructor";
        }

        $staff = StaffTable::getInstance()->findOneBy("user_id", $user_id);
        if (is_object($staff))
        {
            return "Staff";
        }
        
        // will assume (s)he's a student
        return "Student";
    }

}